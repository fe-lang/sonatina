---
source: crates/codegen/tests/evm.rs
expression: "String::from_utf8(v).unwrap()"
input_file: test_files/evm/commutative_order.sntn
---
// func public %entry()
  block0 P=[] T=[]
    - stack=[]
      pre: [PUSH_CONT, PUSH(15), PUSH(14), PUSH(13), PUSH(12), PUSH(11), PUSH(10), PUSH(9), PUSH(8), PUSH(7), PUSH(6), PUSH(5), PUSH(4), PUSH(3), PUSH(2), PUSH(1), PUSH(0)]
      call [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15] -> v0
    - stack=[v0], last_use=[v0]
      pre: [PUSH(0)]
      mstore [0, v0]
    - stack=[]
      pre: [PUSH(32), PUSH(0)]
      evm_return [0, 32]

// func private %comm_add16(v0.i32, v1.i32, v2.i32, v3.i32, v4.i32, v5.i32, v6.i32, v7.i32, v8.i32, v9.i32, v10.i32, v11.i32, v12.i32, v13.i32, v14.i32, v15.i32) -> i32
  block0 P=[v0, v1, v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14, v15] T=[]
    - stack=[v0, v1, v2x, v3x, v4x, v5x, v6x, v7x, v8x, v9x, v10x, v11x, v12x, v13x, v14x, v15, <RET>], last_use=[v15]
      pre: [SWAP15, PUSH(1)]
      add [1, v15] -> v16
    - stack=[v16, v1, v2x, v3x, v4x, v5x, v6x, v7x, v8x, v9x, v10x, v11x, v12x, v13x, v14x, v0, <RET>]
      exit(block1): [SWAP14, POP, SWAP12, POP, POP, POP, POP, POP, POP, POP, POP, POP, POP, POP, POP, SWAP2, SWAP1]
      jump -> block1
  block1 P=[] T=[v16, v0, v1]
    - stack=[v16, v0, v1, <RET>], last_use=[v0, v1]
      pre: [SWAP2]
      add [v1, v0] -> v17
    - stack=[v17x, v16, <RET>]
      cleanup: [POP]
      return [v16]

// func public %entry()
entry:
  block0:
    JUMPDEST
    PUSH1 `pc + (19)`  // v0.i32 = call %comm_add16 0.i32 1.i32 2.i32 3.i32 4.i32 5.i32 6.i32 7.i32 8.i32 9.i32 10.i32 11.i32 12.i32 13.i32 14.i32 15.i32;
    PUSH1 0xf (15)
    PUSH1 0xe (14)
    PUSH1 0xd (13)
    PUSH1 0xc (12)
    PUSH1 0xb (11)
    PUSH1 0xa (10)
    PUSH1 0x9 (9)
    PUSH1 0x8 (8)
    PUSH1 0x7 (7)
    PUSH1 0x6 (6)
    PUSH1 0x5 (5)
    PUSH1 0x4 (4)
    PUSH1 0x3 (3)
    PUSH1 0x2 (2)
    PUSH1 0x1 (1)
    PUSH0
    PUSH1 FuncRef(1)
    JUMP
    JUMPDEST
    PUSH0  // mstore 0.i32 v0 i32;
    MSTORE
    PUSH1 0x20 (32)  // evm_return 0.i8 32.i8;
    PUSH0
    RETURN

// func private %comm_add16(v0.i32, v1.i32, v2.i32, v3.i32, v4.i32, v5.i32, v6.i32, v7.i32, v8.i32, v9.i32, v10.i32, v11.i32, v12.i32, v13.i32, v14.i32, v15.i32) -> i32
comm_add16:
  block0:
    JUMPDEST
    SWAP15  // v16.i32 = add v15 1.i32;
    PUSH1 0x1 (1)
    ADD
    SWAP14  // jump block1;
    POP
    SWAP12
    POP
    POP
    POP
    POP
    POP
    POP
    POP
    POP
    POP
    POP
    POP
    POP
    SWAP2
    SWAP1
  block1:
    JUMPDEST
    SWAP2  // v17.i32 = add v0 v1;
    ADD
    POP  // return v16;
    SWAP1
    JUMP



---------------

// func public %entry()
entry:
  block0:
    0    JUMPDEST
    1    PUSH1 37  // v0.i32 = call %comm_add16 0.i32 1.i32 2.i32 3.i32 4.i32 5.i32 6.i32 7.i32 8.i32 9.i32 10.i32 11.i32 12.i32 13.i32 14.i32 15.i32;
    3    PUSH1 0xf (15)
    5    PUSH1 0xe (14)
    7    PUSH1 0xd (13)
    9    PUSH1 0xc (12)
   11    PUSH1 0xb (11)
   13    PUSH1 0xa (10)
   15    PUSH1 0x9 (9)
   17    PUSH1 0x8 (8)
   19    PUSH1 0x7 (7)
   21    PUSH1 0x6 (6)
   23    PUSH1 0x5 (5)
   25    PUSH1 0x4 (4)
   27    PUSH1 0x3 (3)
   29    PUSH1 0x2 (2)
   31    PUSH1 0x1 (1)
   33    PUSH0
   34    PUSH1 44 (FuncRef(1))
   36    JUMP
   37    JUMPDEST
   38    PUSH0  // mstore 0.i32 v0 i32;
   39    MSTORE
   40    PUSH1 0x20 (32)  // evm_return 0.i8 32.i8;
   42    PUSH0
   43    RETURN
// func private %comm_add16(v0.i32, v1.i32, v2.i32, v3.i32, v4.i32, v5.i32, v6.i32, v7.i32, v8.i32, v9.i32, v10.i32, v11.i32, v12.i32, v13.i32, v14.i32, v15.i32) -> i32
comm_add16:
  block0:
   44    JUMPDEST
   45    SWAP15  // v16.i32 = add v15 1.i32;
   46    PUSH1 0x1 (1)
   48    ADD
   49    SWAP14  // jump block1;
   50    POP
   51    SWAP12
   52    POP
   53    POP
   54    POP
   55    POP
   56    POP
   57    POP
   58    POP
   59    POP
   60    POP
   61    POP
   62    POP
   63    POP
   64    SWAP2
   65    SWAP1
  block1:
   66    JUMPDEST
   67    SWAP2  // v17.i32 = add v0 v1;
   68    ADD
   69    POP  // return v16;
   70    SWAP1
   71    JUMP

0x5b6025600f600e600d600c600b600a6009600860076006600560046003600260015f602c565b5f5260205ff35b9e6001019d509b50505050505050505050505091905b9101509056

Success { reason: Return, gas_used: 21200, gas_refunded: 0, logs: [], output: Call(0x0000000000000000000000000000000000000000000000000000000000000010) }

    pc  opcode            input (stack grows to the right)
     0  5b  JUMPDEST      []
     1  60  PUSH1         0x25  []
     3  60  PUSH1         0x0f  [0x25]
     5  60  PUSH1         0x0e  [0x25, 0xf]
     7  60  PUSH1         0x0d  [0x25, 0xf, 0xe]
     9  60  PUSH1         0x0c  [0x25, 0xf, 0xe, 0xd]
    11  60  PUSH1         0x0b  [0x25, 0xf, 0xe, 0xd, 0xc]
    13  60  PUSH1         0x0a  [0x25, 0xf, 0xe, 0xd, 0xc, 0xb]
    15  60  PUSH1         0x09  [0x25, 0xf, …, 0xc, 0xb, 0xa] (len=7)
    17  60  PUSH1         0x08  [0x25, 0xf, …, 0xb, 0xa, 0x9] (len=8)
    19  60  PUSH1         0x07  [0x25, 0xf, …, 0xa, 0x9, 0x8] (len=9)
    21  60  PUSH1         0x06  [0x25, 0xf, …, 0x9, 0x8, 0x7] (len=10)
    23  60  PUSH1         0x05  [0x25, 0xf, …, 0x8, 0x7, 0x6] (len=11)
    25  60  PUSH1         0x04  [0x25, 0xf, …, 0x7, 0x6, 0x5] (len=12)
    27  60  PUSH1         0x03  [0x25, 0xf, …, 0x6, 0x5, 0x4] (len=13)
    29  60  PUSH1         0x02  [0x25, 0xf, …, 0x5, 0x4, 0x3] (len=14)
    31  60  PUSH1         0x01  [0x25, 0xf, …, 0x4, 0x3, 0x2] (len=15)
    33  5f  PUSH0         [0x25, 0xf, …, 0x3, 0x2, 0x1] (len=16)
    34  60  PUSH1         0x2c  [0x25, 0xf, …, 0x2, 0x1, 0x0] (len=17)
    36  56  JUMP          [0x25, 0xf, …, 0x1, 0x0, 0x2c] (len=18)
    44  5b  JUMPDEST      [0x25, 0xf, …, 0x2, 0x1, 0x0] (len=17)
    45  9e  SWAP15        [0x25, 0xf, …, 0x2, 0x1, 0x0] (len=17)
    46  60  PUSH1         0x01  [0x25, 0x0, …, 0x2, 0x1, 0xf] (len=17)
    48  01  ADD           [0x25, 0x0, …, 0x1, 0xf, 0x1] (len=18)
    49  9d  SWAP14        [0x25, 0x0, …, 0x2, 0x1, 0x10] (len=17)
    50  50  POP           [0x25, 0x0, …, 0x2, 0x1, 0xe] (len=17)
    51  9b  SWAP12        [0x25, 0x0, …, 0x3, 0x2, 0x1] (len=16)
    52  50  POP           [0x25, 0x0, …, 0x3, 0x2, 0xd] (len=16)
    53  50  POP           [0x25, 0x0, …, 0x4, 0x3, 0x2] (len=15)
    54  50  POP           [0x25, 0x0, …, 0x5, 0x4, 0x3] (len=14)
    55  50  POP           [0x25, 0x0, …, 0x6, 0x5, 0x4] (len=13)
    56  50  POP           [0x25, 0x0, …, 0x7, 0x6, 0x5] (len=12)
    57  50  POP           [0x25, 0x0, …, 0x8, 0x7, 0x6] (len=11)
    58  50  POP           [0x25, 0x0, …, 0x9, 0x8, 0x7] (len=10)
    59  50  POP           [0x25, 0x0, …, 0xa, 0x9, 0x8] (len=9)
    60  50  POP           [0x25, 0x0, …, 0xb, 0xa, 0x9] (len=8)
    61  50  POP           [0x25, 0x0, …, 0xc, 0xb, 0xa] (len=7)
    62  50  POP           [0x25, 0x0, 0x10, 0x1, 0xc, 0xb]
    63  50  POP           [0x25, 0x0, 0x10, 0x1, 0xc]
    64  91  SWAP2         [0x25, 0x0, 0x10, 0x1]
    65  90  SWAP1         [0x25, 0x1, 0x10, 0x0]
    66  5b  JUMPDEST      [0x25, 0x1, 0x0, 0x10]
    67  91  SWAP2         [0x25, 0x1, 0x0, 0x10]
    68  01  ADD           [0x25, 0x10, 0x0, 0x1]
    69  50  POP           [0x25, 0x10, 0x1]
    70  90  SWAP1         [0x25, 0x10]
    71  56  JUMP          [0x10, 0x25]
    37  5b  JUMPDEST      [0x10]
    38  5f  PUSH0         [0x10]
    39  52  MSTORE        [0x10, 0x0]
    40  60  PUSH1         0x20  []
    42  5f  PUSH0         [0x20]
    43  f3  RETURN        [0x20, 0x0]
